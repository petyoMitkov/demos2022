<h1 class="mb-4">From Array</h1>
<hr class="mb-5" />

<div class="d-flex justify-content-between align-items-center col-12 col-lg-8 mb-2">
  <button type="button" class="btn btn-primary" (click)="addMember()">Add member</button>

  <span class="d-inline-block">Is form valid: {{ formGroup.valid }}</span>
</div>

<form [formGroup]="formGroup" class="border border-secondary rounded p-4 col-12 col-lg-8">
  <div formArrayName="members">
    <div *ngIf="members?.errors?.['required']" class="alert alert-danger">
      <small>Error min 1 member in the list</small>
    </div>
    
    <!-- Display FormArray Controls-->
    <div *ngFor="let member of members.controls; let i = index" class="form-group mb-4">
      <label class="mb-2">Member {{ i + 1 }}</label>

      <div class="d-flex mb-2">
        <input type="text" class="form-control" [formControlName]="i" />
        <button type="button" class="btn btn-primary mx-2 mr-0" (click)="deleteMember(i)">X</button>
      </div>

      <div *ngIf="member?.invalid && (member?.dirty || member?.touched)" class="alert alert-danger">
        <small *ngIf="member?.errors?.['required']">Member name is required.</small>
      </div>
    </div>
  </div>

  <pre>
    DONE: 
    - add validation and show error if no members
  </pre>

  <button type="button" class="btn btn-primary" [disabled]="formGroup.invalid" (click)="log()">
    Log form value
  </button>
</form>
